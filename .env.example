# OneW HR System - Environment Variables Example

## Backend (.env file in /backend directory)
# See backend/.env.example for complete backend configuration

## Frontend (.env file in /frontend directory)  
# See frontend/.env.example for complete frontend configuration

## Quick Setup Guide

### 1. Create Backend Environment
```bash
cp backend/.env.example backend/.env
# Edit backend/.env with your Supabase credentials
```

### 2. Create Frontend Environment
```bash
cp frontend/.env.example frontend/.env
# Edit frontend/.env with your Supabase credentials
```

### 3. Get Supabase Credentials
1. Go to https://supabase.com
2. Create a new project
3. In Project Settings > API:
   - Copy Project URL → SUPABASE_URL
   - Copy anon (public) key → SUPABASE_ANON_KEY (frontend)
   - Copy service_role key → SUPABASE_SERVICE_KEY (backend)

### 4. Create Database Tables
Run these SQL queries in Supabase SQL Editor:

```sql
-- Employees table
CREATE TABLE employees (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  email VARCHAR(100) UNIQUE,
  position VARCHAR(100),
  department VARCHAR(100),
  salary NUMERIC,
  status VARCHAR(20) DEFAULT 'ACTIVE',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Attendance table
CREATE TABLE attendance (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
  check_in_time TIMESTAMP,
  check_out_time TIMESTAMP,
  total_hours NUMERIC,
  status VARCHAR(20),
  date DATE DEFAULT CURRENT_DATE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Leaves table
CREATE TABLE leaves (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
  leave_type VARCHAR(50),
  start_date DATE,
  end_date DATE,
  days_requested INTEGER,
  reason TEXT,
  status VARCHAR(20) DEFAULT 'PENDING',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### 5. Start Development Servers
```bash
# Terminal 1: Backend
cd backend
npm install
npm start

# Terminal 2: Frontend
cd frontend
npm install
npm run dev
```

## Environment Variables Summary

### Backend
- `PORT`: Server port (default: 5000)
- `NODE_ENV`: development/production
- `SUPABASE_URL`: Your Supabase project URL
- `SUPABASE_SERVICE_KEY`: Service role key for backend operations
- `FRONTEND_URL`: Frontend URL for CORS configuration

### Frontend
- `VITE_API_BASE_URL`: Backend API base URL
- `VITE_SUPABASE_URL`: Supabase project URL
- `VITE_SUPABASE_ANON_KEY`: Public anon key for Supabase auth
